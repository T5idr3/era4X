;=============================================================================
; 搭乗可能な奴隷の一覧表示
;=============================================================================
@SHOW_BOARDING_SLAVE_LIST
#DIM ITER
FOR ITER, 0, CHARANUM
	SIF STRLENS(NAME:ITER) == 0
		CONTINUE
	SIF IS_FALL(ITER) == 0 && CFLAG:ITER:1015 == 0 && ITER != 0
		CONTINUE
	IF BOARDING_SHIP_ID:ITER == -1
		PRINTBUTTON @"[{ITER, 2, RIGHT}] %CALLNAME:ITER, 30, LEFT%", ITER
	ELSEIF RIDING_WITH:ITER != -1
		PRINTBUTTON @"[{ITER, 2, RIGHT}] %CALLNAME:ITER, 30, LEFT% %SHIP_NAME:(RIDING_WITH:ITER)%搭乗中", ITER
	ELSE
		PRINTBUTTON @"[{ITER, 2, RIGHT}] %CALLNAME:ITER, 30, LEFT% %SHIP_NAME:(BOARDING_SHIP_ID:ITER)%の艦長", ITER
	ENDIF
PRINTL
NEXT

@MOORING(CHARA_ID = 0)
#FUNCTION
#DIM CHARA_ID
#DIM ID

FOR ID, 0, 星系数
	SIF 星系座標ID:ID == CHARACTER_POSITION:CHARA_ID
		RETURNF 1
NEXT

FOR ID, 0, MAX_PORT
	SIF PORT_POSITION_ID:ID == CHARACTER_POSITION:CHARA_ID
		RETURNF 1
NEXT

RETURNF 0

;座標からどの星にいるかを返却する
@GET_STAR_ID_FROM_POS(POS)
#DIM POS
FINDELEMENT 星系座標ID, POS
RETURN RESULT
