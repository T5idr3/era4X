;----------------------
; スペシャルキャラ
;----------------------
@SPECIAL_CHARA
$INPUT_LOOP
PRINTL 「お客様にご紹介できる特別な奴隷でございます」
IF CAN_BUY_SPECIAL_CHARA_1() == 1
	PRINTBUTTON "[1] カタリナ($10,000)", 1
	PRINTL
ENDIF
PRINTBUTTON "[99] 戻る", 99
INPUT
IF RESULT == 1 && CAN_BUY_SPECIAL_CHARA_1() == 1
	IF MONEY < 10000
		PRINTW 「手持ちのお金がたりないようですよ」
	ELSE
		MONEY -= 10000
		PRINTW 「お買い上げありがとうございます」
		ADDCHARA 1
		CHARACTER_POSITION:(CHARANUM - 1) = CHARACTER_POSITION:0
		CFLAG:(CHARANUM - 1):1009 = 0XC9CACA
		CFLAG:(CHARANUM - 1):1010 = 151
		CFLAG:(CHARANUM - 1):1011 = 85
		CFLAG:(CHARANUM - 1):1012 = 57
		CFLAG:(CHARANUM - 1):1013 = 87
		CFLAG:(CHARANUM - 1):1014 = 2

	ENDIF
	GOTO INPUT_LOOP
ELSEIF RESULT == 99
	RETURN
ELSE
	GOTO INPUT_LOOP
ENDIF


@CAN_BUY_SPECIAL_CHARA_1
#FUNCTION

FOR LOCAL, 0, 星系数
	SIF 星系座標ID:LOCAL != CHARACTER_POSITION
		CONTINUE
	SIF STAR_OWNER:LOCAL != 5
		CONTINUE
;	SIF REL_LIKE:5:PLAYER_COUNTRY < 800
;		CONTINUE
	FOR LOCAL:1, 0, CHARANUM
		SIF NO:(LOCAL:1) == 1
			RETURNF 0
	NEXT
	RETURNF 1
NEXT
RETURNF 0