;--------------------------
; AI ACTION 皇国
;--------------------------
@SLG_AI_ACTION_11
#DIM CONST COUNTRY_ID = 3


@GET_STANDING_ARMY_11(UNIT)
#DIM REF UNIT

UNIT:朱雀級機動武者 = 24
UNIT:秋月級コルベット = 32
UNIT:津軽級フリゲート = 16
UNIT:豊後級駆逐艦 = 6
UNIT:大江戸級巡洋艦 = 6
UNIT:大和級戦艦 = 2
UNIT:舞鶴級護衛空母 = 1

@GET_INVASION_ARMY_11(UNIT)
#DIM REF UNIT

UNIT:朱雀級機動武者 = 24
UNIT:秋月級コルベット = 32
UNIT:津軽級フリゲート = 16
UNIT:豊後級駆逐艦 = 6
UNIT:大江戸級巡洋艦 = 6
UNIT:大和級戦艦 = 2
UNIT:舞鶴級護衛空母 = 1

@AI_ARMED_BUILDUP_11(STAR_ID)
#DIM STAR_ID
#DIM DYNAMIC UNIT_LIST, SHIP_CLASS_TOTAL_COUNT
#DIM DYNAMIC NEW_SHIP_ID

CALL GET_STANDING_ARMY_11(UNIT_LIST)

; 艦の生産
FOR LOCAL, 0, MAX_SHIP
    SIF SHIP_POSITION:LOCAL != 星系座標ID:STAR_ID
        CONTINUE
    SIF SHIP_COUNTRY:LOCAL != 国家ID_豊秋津皇国
        CONTINUE
    SIF UNIT_LIST:(SHIP_MODEL:LOCAL) > 0
        UNIT_LIST:(SHIP_MODEL:LOCAL) --
    CALL AI_UPDATE_WEAPON_11(LOCAL)
NEXT
FOR LOCAL, 0, SHIP_CLASS_TOTAL_COUNT
    SIF UNIT_LIST:LOCAL > 0
        CALL BUILD_SHIP(星系座標ID:STAR_ID, 国家ID_豊秋津皇国, 国家ID_豊秋津皇国, LOCAL, ,NEW_SHIP_ID)
NEXT

; 艦種ごとの役割は決まっているが、マクロな戦略が決まっていないせいでごちゃ混ぜ
; その分武器の種類が多く、シールドにも装甲にも効くから意外に強い
@AI_UPDATE_WEAPON_11(SHIP_ID)
#DIM SHIP_ID
#DIM DYNAMIC SHIP_STATUS, SHIP_STATUS_LENGTH

TRYCALLFORM GET_SHIP_STATUS_{SHIP_MODEL:SHIP_ID}(SHIP_STATUS)

SELECTCASE SHIP_MODEL:SHIP_ID
    CASE 朱雀級機動武者
        ;メインウェポン
        FOR LOCAL, 0, SHIP_STATUS:SHIP_MAIN_WEAPON_SLOT
            IF !SHIP_EQUIP:主砲:LOCAL:SHIP_ID != 61 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_MAIN_WEAPON(SHIP_ID, 11, 61, LOCAL)
            ELSEIF !SHIP_EQUIP:主砲:LOCAL:SHIP_ID != 62 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_MAIN_WEAPON(SHIP_ID, 11, 62, LOCAL)
            ENDIF
        NEXT
        ;サブウェポン
        FOR LOCAL, 0, SHIP_STATUS:SHIP_SUB_WEAPON_SLOT
            IF !SHIP_EQUIP:副砲:LOCAL:SHIP_ID != 2 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SUB_WEAPON(SHIP_ID, 11, 2, LOCAL)
            ELSEIF !SHIP_EQUIP:副砲:LOCAL:SHIP_ID != 3 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SUB_WEAPON(SHIP_ID, 11, 3, LOCAL)
            ENDIF
        NEXT
        ;シールド
        FOR LOCAL, 0, SHIP_STATUS:SHIP_SIELD_SLOT
            IF !SHIP_EQUIP:シールド:LOCAL:SHIP_ID != 5 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SIELD(SHIP_ID, 11, 5, LOCAL)
            ELSEIF !SHIP_EQUIP:シールド:LOCAL:SHIP_ID != 9 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SIELD(SHIP_ID, 11, 9, LOCAL)
            ENDIF
        NEXT
        ;装甲
        FOR LOCAL, 0, SHIP_STATUS:SHIP_ARMOR_SLOT
            IF !SHIP_EQUIP:装甲:LOCAL:SHIP_ID != 5 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_ARMOR(SHIP_ID, 11, 5, LOCAL)
            ELSEIF !SHIP_EQUIP:装甲:LOCAL:SHIP_ID != 9 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_ARMOR(SHIP_ID, 11, 9, LOCAL)
            ENDIF
        NEXT
        ;エンジン
        IF !SHIP_EQUIP:エンジン:LOCAL:SHIP_ID != 5 && !IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_ENGIN(SHIP_ID, 11, 5)
        ELSEIF !SHIP_EQUIP:エンジン:LOCAL:SHIP_ID != 9 && IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_ENGIN(SHIP_ID, 11, 9)
        ENDIF
        ;コンピューター
        IF !SHIP_EQUIP:AI:LOCAL:SHIP_ID != 2 && !IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_COMPUTER(SHIP_ID, 11, 2)
        ELSEIF !SHIP_EQUIP:AI:LOCAL:SHIP_ID != 3 && IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_COMPUTER(SHIP_ID, 11, 3)
        ENDIF
    CASE 秋月級コルベット
        ;メインウェポン
        FOR LOCAL, 0, SHIP_STATUS:SHIP_MAIN_WEAPON_SLOT
            IF !SHIP_EQUIP:主砲:LOCAL:SHIP_ID != 31 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_MAIN_WEAPON(SHIP_ID, 11, 31, LOCAL)
            ELSEIF !SHIP_EQUIP:主砲:LOCAL:SHIP_ID != 32 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_MAIN_WEAPON(SHIP_ID, 11, 32, LOCAL)
            ENDIF
        NEXT
        ;サブウェポン
        FOR LOCAL, 0, SHIP_STATUS:SHIP_SUB_WEAPON_SLOT
            IF !SHIP_EQUIP:副砲:LOCAL:SHIP_ID != 2 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SUB_WEAPON(SHIP_ID, 11, 2, LOCAL)
            ELSEIF !SHIP_EQUIP:副砲:LOCAL:SHIP_ID != 3 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SUB_WEAPON(SHIP_ID, 11, 3, LOCAL)
            ENDIF
        NEXT
        ;シールド
        FOR LOCAL, 0, SHIP_STATUS:SHIP_SIELD_SLOT
            IF !SHIP_EQUIP:シールド:LOCAL:SHIP_ID != 5 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SIELD(SHIP_ID, 11, 5, LOCAL)
            ELSEIF !SHIP_EQUIP:シールド:LOCAL:SHIP_ID != 9 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SIELD(SHIP_ID, 11, 9, LOCAL)
            ENDIF
        NEXT
        ;装甲
        FOR LOCAL, 0, SHIP_STATUS:SHIP_ARMOR_SLOT
            IF !SHIP_EQUIP:装甲:LOCAL:SHIP_ID != 5 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_ARMOR(SHIP_ID, 11, 5, LOCAL)
            ELSEIF !SHIP_EQUIP:装甲:LOCAL:SHIP_ID != 9 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_ARMOR(SHIP_ID, 11, 9, LOCAL)
            ENDIF
        NEXT
        ;エンジン
        IF !SHIP_EQUIP:エンジン:LOCAL:SHIP_ID != 5 && !IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_ENGIN(SHIP_ID, 11, 5)
        ELSEIF !SHIP_EQUIP:エンジン:LOCAL:SHIP_ID != 9 && IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_ENGIN(SHIP_ID, 11, 9)
        ENDIF
        ;コンピューター
        IF !SHIP_EQUIP:AI:LOCAL:SHIP_ID != 2 && !IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_COMPUTER(SHIP_ID, 11, 2)
        ELSEIF !SHIP_EQUIP:AI:LOCAL:SHIP_ID != 3 && IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_COMPUTER(SHIP_ID, 11, 3)
        ENDIF
    CASE 津軽級フリゲート
        ;メインウェポン
        FOR LOCAL, 0, SHIP_STATUS:SHIP_MAIN_WEAPON_SLOT
            IF !SHIP_EQUIP:主砲:LOCAL:SHIP_ID != 34 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_MAIN_WEAPON(SHIP_ID, 11, 34, LOCAL)
            ELSEIF !SHIP_EQUIP:主砲:LOCAL:SHIP_ID != 35 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_MAIN_WEAPON(SHIP_ID, 11, 35, LOCAL)
            ENDIF
        NEXT
        ;サブウェポン
        FOR LOCAL, 0, SHIP_STATUS:SHIP_SUB_WEAPON_SLOT
            IF !SHIP_EQUIP:副砲:LOCAL:SHIP_ID != 2 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SUB_WEAPON(SHIP_ID, 11, 2, LOCAL)
            ELSEIF !SHIP_EQUIP:副砲:LOCAL:SHIP_ID != 3 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SUB_WEAPON(SHIP_ID, 11, 3, LOCAL)
            ENDIF
        NEXT
        ;シールド
        FOR LOCAL, 0, SHIP_STATUS:SHIP_SIELD_SLOT
            IF !SHIP_EQUIP:シールド:LOCAL:SHIP_ID != 6 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SIELD(SHIP_ID, 11, 6, LOCAL)
            ELSEIF !SHIP_EQUIP:シールド:LOCAL:SHIP_ID != 10 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SIELD(SHIP_ID, 11, 10, LOCAL)
            ENDIF
        NEXT
        ;装甲
        FOR LOCAL, 0, SHIP_STATUS:SHIP_ARMOR_SLOT
            IF !SHIP_EQUIP:装甲:LOCAL:SHIP_ID != 6 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_ARMOR(SHIP_ID, 11, 6, LOCAL)
            ELSEIF !SHIP_EQUIP:装甲:LOCAL:SHIP_ID != 10 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_ARMOR(SHIP_ID, 11, 10, LOCAL)
            ENDIF
        NEXT
        ;エンジン
        IF !SHIP_EQUIP:エンジン:LOCAL:SHIP_ID != 6 && !IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_ENGIN(SHIP_ID, 11, 6)
        ELSEIF !SHIP_EQUIP:エンジン:LOCAL:SHIP_ID != 10 && IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_ENGIN(SHIP_ID, 11, 10)
        ENDIF
        ;コンピューター
        IF !SHIP_EQUIP:AI:LOCAL:SHIP_ID != 2 && !IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_COMPUTER(SHIP_ID, 11, 2)
        ELSEIF !SHIP_EQUIP:AI:LOCAL:SHIP_ID != 3 && IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_COMPUTER(SHIP_ID, 11, 3)
        ENDIF
    CASE 豊後級駆逐艦
        ;メインウェポン
        FOR LOCAL, 0, SHIP_STATUS:SHIP_MAIN_WEAPON_SLOT
            IF !SHIP_EQUIP:主砲:LOCAL:SHIP_ID != 16 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_MAIN_WEAPON(SHIP_ID, 11, 16, LOCAL)
            ELSEIF !SHIP_EQUIP:主砲:LOCAL:SHIP_ID != 19 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_MAIN_WEAPON(SHIP_ID, 11, 19, LOCAL)
            ENDIF
        NEXT
        ;サブウェポン
        FOR LOCAL, 0, SHIP_STATUS:SHIP_SUB_WEAPON_SLOT
            IF !SHIP_EQUIP:副砲:LOCAL:SHIP_ID != 5 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SUB_WEAPON(SHIP_ID, 11, 5, LOCAL)
            ELSEIF !SHIP_EQUIP:副砲:LOCAL:SHIP_ID != 6 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SUB_WEAPON(SHIP_ID, 11, 6, LOCAL)
            ENDIF
        NEXT
        ;シールド
        FOR LOCAL, 0, SHIP_STATUS:SHIP_SIELD_SLOT
            IF !SHIP_EQUIP:シールド:LOCAL:SHIP_ID != 6 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SIELD(SHIP_ID, 11, 6, LOCAL)
            ELSEIF !SHIP_EQUIP:シールド:LOCAL:SHIP_ID != 10 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SIELD(SHIP_ID, 11, 10, LOCAL)
            ENDIF
        NEXT
        ;装甲
        FOR LOCAL, 0, SHIP_STATUS:SHIP_ARMOR_SLOT
            IF !SHIP_EQUIP:装甲:LOCAL:SHIP_ID != 6 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_ARMOR(SHIP_ID, 11, 6, LOCAL)
            ELSEIF !SHIP_EQUIP:装甲:LOCAL:SHIP_ID != 10 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_ARMOR(SHIP_ID, 11, 10, LOCAL)
            ENDIF
        NEXT
        ;エンジン
        IF !SHIP_EQUIP:エンジン:LOCAL:SHIP_ID != 6 && !IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_ENGIN(SHIP_ID, 11, 6)
        ELSEIF !SHIP_EQUIP:エンジン:LOCAL:SHIP_ID != 10 && IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_ENGIN(SHIP_ID, 11, 10)
        ENDIF
        ;コンピューター
        IF !SHIP_EQUIP:AI:LOCAL:SHIP_ID != 2 && !IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_COMPUTER(SHIP_ID, 11, 2)
        ELSEIF !SHIP_EQUIP:AI:LOCAL:SHIP_ID != 3 && IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_COMPUTER(SHIP_ID, 11, 3)
        ENDIF
    CASE 大江戸級巡洋艦
        ;メインウェポン
        FOR LOCAL, 0, SHIP_STATUS:SHIP_MAIN_WEAPON_SLOT
            IF !SHIP_EQUIP:主砲:LOCAL:SHIP_ID != 17 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_MAIN_WEAPON(SHIP_ID, 11, 17, LOCAL)
            ELSEIF !SHIP_EQUIP:主砲:LOCAL:SHIP_ID != 20 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_MAIN_WEAPON(SHIP_ID, 11, 20, LOCAL)
            ENDIF
        NEXT
        ;サブウェポン
        FOR LOCAL, 0, SHIP_STATUS:SHIP_SUB_WEAPON_SLOT
            IF !SHIP_EQUIP:副砲:LOCAL:SHIP_ID != 26 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SUB_WEAPON(SHIP_ID, 11, 26, LOCAL)
            ELSEIF !SHIP_EQUIP:副砲:LOCAL:SHIP_ID != 27 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SUB_WEAPON(SHIP_ID, 11, 27, LOCAL)
            ENDIF
        NEXT
        ;シールド
        FOR LOCAL, 0, SHIP_STATUS:SHIP_SIELD_SLOT
            IF !SHIP_EQUIP:シールド:LOCAL:SHIP_ID != 7 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SIELD(SHIP_ID, 11, 7, LOCAL)
            ELSEIF !SHIP_EQUIP:シールド:LOCAL:SHIP_ID != 11 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SIELD(SHIP_ID, 11, 11, LOCAL)
            ENDIF
        NEXT
        ;装甲
        FOR LOCAL, 0, SHIP_STATUS:SHIP_ARMOR_SLOT
            IF !SHIP_EQUIP:装甲:LOCAL:SHIP_ID != 7 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_ARMOR(SHIP_ID, 11, 7, LOCAL)
            ELSEIF !SHIP_EQUIP:装甲:LOCAL:SHIP_ID != 11 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_ARMOR(SHIP_ID, 11, 11, LOCAL)
            ENDIF
        NEXT
        ;エンジン
        IF !SHIP_EQUIP:エンジン:LOCAL:SHIP_ID != 7 && !IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_ENGIN(SHIP_ID, 11, 7)
        ELSEIF !SHIP_EQUIP:エンジン:LOCAL:SHIP_ID != 11 && IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_ENGIN(SHIP_ID, 11, 11)
        ENDIF
        ;コンピューター
        IF !SHIP_EQUIP:AI:LOCAL:SHIP_ID != 2 && !IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_COMPUTER(SHIP_ID, 11, 2)
        ELSEIF !SHIP_EQUIP:AI:LOCAL:SHIP_ID != 3 && IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_COMPUTER(SHIP_ID, 11, 3)
        ENDIF
    CASE 大和級戦艦
        ;メインウェポン
        FOR LOCAL, 0, SHIP_STATUS:SHIP_MAIN_WEAPON_SLOT
            IF !SHIP_EQUIP:主砲:LOCAL:SHIP_ID != 14 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_MAIN_WEAPON(SHIP_ID, 11, 14, LOCAL)
            ELSEIF !SHIP_EQUIP:主砲:LOCAL:SHIP_ID != 14 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_MAIN_WEAPON(SHIP_ID, 11, 14, LOCAL)
            ENDIF
        NEXT
        ;サブウェポン
        FOR LOCAL, 0, SHIP_STATUS:SHIP_SUB_WEAPON_SLOT
            IF !SHIP_EQUIP:副砲:LOCAL:SHIP_ID != 26 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SUB_WEAPON(SHIP_ID, 11, 26, LOCAL)
            ELSEIF !SHIP_EQUIP:副砲:LOCAL:SHIP_ID != 27 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SUB_WEAPON(SHIP_ID, 11, 27, LOCAL)
            ENDIF
        NEXT
        ;シールド
        FOR LOCAL, 0, SHIP_STATUS:SHIP_SIELD_SLOT
            IF !SHIP_EQUIP:シールド:LOCAL:SHIP_ID != 8 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SIELD(SHIP_ID, 11, 8, LOCAL)
            ELSEIF !SHIP_EQUIP:シールド:LOCAL:SHIP_ID != 12 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SIELD(SHIP_ID, 11, 12, LOCAL)
            ENDIF
        NEXT
        ;装甲
        FOR LOCAL, 0, SHIP_STATUS:SHIP_ARMOR_SLOT
            IF !SHIP_EQUIP:装甲:LOCAL:SHIP_ID != 8 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_ARMOR(SHIP_ID, 11, 8, LOCAL)
            ELSEIF !SHIP_EQUIP:装甲:LOCAL:SHIP_ID != 12 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_ARMOR(SHIP_ID, 11, 12, LOCAL)
            ENDIF
        NEXT
        ;エンジン
        IF !SHIP_EQUIP:エンジン:LOCAL:SHIP_ID != 8 && !IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_ENGIN(SHIP_ID, 11, 8)
        ELSEIF !SHIP_EQUIP:エンジン:LOCAL:SHIP_ID != 12 && IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_ENGIN(SHIP_ID, 11, 12)
        ENDIF
        ;コンピューター
        IF !SHIP_EQUIP:AI:LOCAL:SHIP_ID != 2 && !IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_COMPUTER(SHIP_ID, 11, 2)
        ELSEIF !SHIP_EQUIP:AI:LOCAL:SHIP_ID != 3 && IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_COMPUTER(SHIP_ID, 11, 3)
        ENDIF
    CASE 舞鶴級護衛空母
        ;メインウェポン
        FOR LOCAL, 0, SHIP_STATUS:SHIP_MAIN_WEAPON_SLOT
            IF !SHIP_EQUIP:主砲:LOCAL:SHIP_ID != 108 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_MAIN_WEAPON(SHIP_ID, 11, 108, LOCAL)
            ELSEIF !SHIP_EQUIP:主砲:LOCAL:SHIP_ID != 109 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_MAIN_WEAPON(SHIP_ID, 11, 109, LOCAL)
            ENDIF
        NEXT
        ;サブウェポン
        FOR LOCAL, 0, SHIP_STATUS:SHIP_SUB_WEAPON_SLOT
            IF !SHIP_EQUIP:副砲:LOCAL:SHIP_ID != 26 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SUB_WEAPON(SHIP_ID, 11, 26, LOCAL)
            ELSEIF !SHIP_EQUIP:副砲:LOCAL:SHIP_ID != 27 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SUB_WEAPON(SHIP_ID, 11, 27, LOCAL)
            ENDIF
        NEXT
        ;シールド
        FOR LOCAL, 0, SHIP_STATUS:SHIP_SIELD_SLOT
            IF !SHIP_EQUIP:シールド:LOCAL:SHIP_ID != 8 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SIELD(SHIP_ID, 11, 8, LOCAL)
            ELSEIF !SHIP_EQUIP:シールド:LOCAL:SHIP_ID != 12 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_SIELD(SHIP_ID, 11, 12, LOCAL)
            ENDIF
        NEXT
        ;装甲
        FOR LOCAL, 0, SHIP_STATUS:SHIP_ARMOR_SLOT
            IF !SHIP_EQUIP:装甲:LOCAL:SHIP_ID != 8 && !IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_ARMOR(SHIP_ID, 11, 8, LOCAL)
            ELSEIF !SHIP_EQUIP:装甲:LOCAL:SHIP_ID != 12 && IS_COMPLETE_TECH:OVER_TECH
                CALL CHANGE_ARMOR(SHIP_ID, 11, 12, LOCAL)
            ENDIF
        NEXT
        ;エンジン
        IF !SHIP_EQUIP:エンジン:LOCAL:SHIP_ID != 8 && !IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_ENGIN(SHIP_ID, 11, 8)
        ELSEIF !SHIP_EQUIP:エンジン:LOCAL:SHIP_ID != 12 && IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_ENGIN(SHIP_ID, 11, 12)
        ENDIF
        ;コンピューター
        IF !SHIP_EQUIP:AI:LOCAL:SHIP_ID != 2 && !IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_COMPUTER(SHIP_ID, 11, 2)
        ELSEIF !SHIP_EQUIP:AI:LOCAL:SHIP_ID != 3 && IS_COMPLETE_TECH:OVER_TECH
            CALL CHANGE_COMPUTER(SHIP_ID, 11, 3)
        ENDIF
ENDSELECT
