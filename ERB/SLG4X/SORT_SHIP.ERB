;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;@SORT_SHIP_LIST()
; グローバル配列 SHIP_LISTをソートする。 所属国－艦種別－船番号の決め打ち
; @GET_SHIP_LIST 系の後に使用すること
; 国追加・船種別追加は SLG.ERH の変数みてるので対応できるハズ
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

@SORT_SHIP_LIST()
#DIM DYNAMIC SORT_1, MAX_SHIP
#DIM SHIP_ID

FOR LOCAL, 0, SHIP_LIST_LENGTH
    SHIP_ID = SHIP_LIST:LOCAL
    SORT_1:LOCAL = SHIP_ID + MAX_SHIP*( SHIP_CATEGORY:SHIP_ID+ (SHIP_CATEGORY_COUNT)*SHIP_COUNTRY:SHIP_ID )
NEXT

ARRAYMSORT SORT_1, SHIP_LIST
RETURN


;---------------------------------------------
; 船リスト表示におけるフィルターセット
; @PRINTBUTTON_SHIP_FILTER--- でボタン配置
; @CHAGE_SHIP_FILTER---- でフィルタのON/OFF BIToff= 非表示 BITon= 表示
; 実際のスキップ処理はBITみて判定 
; このへん　GETBIT FILTER_SHIP_CATEGORY, (SHIP_CATEGORY:SHIP_ID)

;---------------------------------------------
; @PRINTBUTTON_SHIP_FILTERCATEGORY( )
;  船種(SHIP_CATEGORY:SHIP_ID)別フィルタを横一列にプリントする
;  FILTER_SHIP_CATEGORY の各BITは SHIP_CATEGORY のナンバリングに合わせている
;  KEYに対応するビットを反転させる処理が必要
; @CHAGE_SHIP_FILTERCAGTEGORY(ARGS:0)
;  上とセットのビット反転処理
;---------------------------------------------
@PRINTBUTTON_SHIP_FILTERCATEGORY( )

PRINTBUTTON " [OFF/ON] ", "FILTERcategoryALL"
PRINT 　
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_CATEGORY &1p0) !=0 , " [調査船] ", "category00")
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_CATEGORY &1p1) !=0 , " [ｺﾙﾍﾞｯﾄ] ", "category01")
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_CATEGORY &1p2) !=0 , " [ﾌﾘｹﾞｰﾄ] ", "category02")
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_CATEGORY &1p3) !=0 , " [駆逐艦] ", "category03")
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_CATEGORY &1p4) !=0 , " [巡洋艦] ", "category04")
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_CATEGORY &1p5) !=0 , " [ 戦艦 ] ", "category05")
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_CATEGORY &1p6) !=0 , " [ 空母 ] ", "category06")
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_CATEGORY &1p7) !=0 , " [輸送船] ", "category07")
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_CATEGORY &1p8) !=0 , " [作業船] ", "category08")

RETURN


@CHAGE_SHIP_FILTERCAGTEGORY(ARGS:0)
SELECTCASE ARGS:0
    CASE "FILTERcategoryALL"
        IF FILTER_SHIP_CATEGORY == 0
            FILTER_SHIP_CATEGORY = 65535
        ELSE
            FILTER_SHIP_CATEGORY = 0
        ENDIF
    CASE "category00"
        INVERTBIT FILTER_SHIP_CATEGORY, 0
    CASE "category01"
        INVERTBIT FILTER_SHIP_CATEGORY, 1
    CASE "category02"
        INVERTBIT FILTER_SHIP_CATEGORY, 2
    CASE "category03"
        INVERTBIT FILTER_SHIP_CATEGORY, 3
    CASE "category04"
        INVERTBIT FILTER_SHIP_CATEGORY, 4
    CASE "category05"
        INVERTBIT FILTER_SHIP_CATEGORY, 5
    CASE "category06"
        INVERTBIT FILTER_SHIP_CATEGORY, 6
    CASE "category07"
        INVERTBIT FILTER_SHIP_CATEGORY, 7
    CASE "category08"
        INVERTBIT FILTER_SHIP_CATEGORY, 8
ENDSELECT
RETURN

;---------------------------------------------
; @PRINTBUTTON_SHIP_FILTERMISSION( )
;  船任務(SHIP_MISSION:SHIP_ID) 別フィルタを横一列にプリントする
;  FILTER_SHIP_MISSION の各BITは SHIP_MISSION のナンバリングに合わせている
; @CHAGE_SHIP_FILTERMISSION(ARGS:0)
;  上とセットのビット反転処理
;---------------------------------------------
@PRINTBUTTON_SHIP_FILTERMISSION( )
PRINTBUTTON " [OFF/ON] ", "FILTERmissionALL"
PRINT 　
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_MISSION &1p0) !=0 , " [ 待機 ] ", "FILTERmission00")
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_MISSION &1p1) !=0 , " [ﾊﾟﾄﾛｰﾙ] ", "FILTERmission01")
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_MISSION &1p2) !=0 , " [ 追従 ] ", "FILTERmission02")
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_MISSION &1p3) !=0 , " [ 移動 ] ", "FILTERmission03")
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_MISSION &1p4) !=0 , " [ 採掘 ] ", "FILTERmission04")
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_MISSION &1p5) !=0 , " [ 交易 ] ", "FILTERmission05")
CALL PRINT_FILTER_BUTTON( (FILTER_SHIP_MISSION &1p6) !=0 , " [ 輸送 ] ", "FILTERmission06")

RETURN

@CHAGE_SHIP_FILTERMISSION(ARGS:0)
SELECTCASE ARGS:0
    CASE "FILTERmissionALL"
        IF FILTER_SHIP_MISSION == 0
            FILTER_SHIP_MISSION = 65535
        ELSE
            FILTER_SHIP_MISSION = 0
        ENDIF
    CASE "FILTERmission00"
        INVERTBIT FILTER_SHIP_MISSION, 0
    CASE "FILTERmission01"
        INVERTBIT FILTER_SHIP_MISSION, 1
    CASE "FILTERmission02"
        INVERTBIT FILTER_SHIP_MISSION, 2
    CASE "FILTERmission03"
        INVERTBIT FILTER_SHIP_MISSION, 3
    CASE "FILTERmission04"
        INVERTBIT FILTER_SHIP_MISSION, 4
    CASE "FILTERmission05"
        INVERTBIT FILTER_SHIP_MISSION, 5
    CASE "FILTERmission06"
        INVERTBIT FILTER_SHIP_MISSION, 6
ENDSELECT
RETURN
;---------------------------------------------
; 上↑とセット
; 表示文字 ARGS:0, KEY ARGS:1 のボタンを出す
; ARG:0 が0の場合 色をリセット、 １の場合、グレーアウトする
;---------------------------------------------
@PRINT_FILTER_BUTTON(ARG:0, ARGS:0, ARGS:1)

IF ARG:0 == 0
    SETCOLOR 0x666666
ELSEIF ARG:0 == 1
    RESETCOLOR
ENDIF
PRINTBUTTON ARGS:0 , ARGS:1
RESETCOLOR

RETURN

;----------------------------
; 指定のミッションを優先表示する
;----------------------------
@PRINTBUTTON_SHIP_SORT_MISSION
PRINT 優先表示するタスクを表示
CALL PRINT_FILTER_BUTTON(SORT_SHIP_MISSION == パトロール , " [ ﾊﾟﾄﾛｰﾙ ] ", "SORT_2")
CALL PRINT_FILTER_BUTTON(SORT_SHIP_MISSION == 移動 , " [ 移動 ] ", "SORT_3")
CALL PRINT_FILTER_BUTTON(SORT_SHIP_MISSION == 採掘 , " [ 採掘 ] ", "SORT_4")
CALL PRINT_FILTER_BUTTON(SORT_SHIP_MISSION == 交易 , " [ 交易 ] ", "SORT_5")
CALL PRINT_FILTER_BUTTON(SORT_SHIP_MISSION == 輸送 , " [ 輸送 ] ", "SORT_6")
PRINTL

@CHAGE_SHIP_SORTMISSION( ARGS:0 )
SELECTCASE ARGS:0
    CASE "SORT_2"
        SORT_SHIP_MISSION = SORT_SHIP_MISSION == パトロール ? 0 # パトロール
    CASE "SORT_3"
        SORT_SHIP_MISSION = SORT_SHIP_MISSION == 移動 ? 0 # 移動
    CASE "SORT_4"
        SORT_SHIP_MISSION = SORT_SHIP_MISSION == 採掘 ? 0 # 採掘
    CASE "SORT_5"
        SORT_SHIP_MISSION = SORT_SHIP_MISSION == 交易 ? 0 # 交易
    CASE "SORT_6"
        SORT_SHIP_MISSION = SORT_SHIP_MISSION == 輸送 ? 0 # 輸送
ENDSELECT