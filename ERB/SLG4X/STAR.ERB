;--------------------------
; 星の民間需要と生産の管理
;--------------------------
; 生産（というか民間からの買い上げ）
@PRICATE_PRODUCTION(STAR_ID)
#DIM STAR_ID
#DIM CONST DAILY_PRODUCTION = 110
#DIM CONST SPECIAL_ITEM_DAILY_PRODUCTION = 2

SELECTCASE STAR_ID
    CASE 0
        MONEY:(STAR_OWNER:STAR_ID) -= GET_RESOURCE_PRICE(宇宙たばこ) * DAILY_PRODUCTION
        CALL ADD_RESOURCE(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, 宇宙たばこ, DAILY_PRODUCTION)
    CASE 1
        MONEY:(STAR_OWNER:STAR_ID) -= GET_RESOURCE_PRICE(オーネスワイン) * DAILY_PRODUCTION
        CALL ADD_RESOURCE(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, オーネスワイン, DAILY_PRODUCTION)
    CASE 2
        MONEY:(STAR_OWNER:STAR_ID) -= GET_RESOURCE_PRICE(トルス酒) * DAILY_PRODUCTION
        CALL ADD_RESOURCE(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, トルス酒, DAILY_PRODUCTION)
    CASE 3
        MONEY:(STAR_OWNER:STAR_ID) -= GET_RESOURCE_PRICE(サンロットの香木) * DAILY_PRODUCTION
        CALL ADD_RESOURCE(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, サンロットの香木, DAILY_PRODUCTION)
    CASE 4
        MONEY:(STAR_OWNER:STAR_ID) -= GET_RESOURCE_PRICE(フォルス酒) * DAILY_PRODUCTION * DAILY_PRODUCTION
        CALL ADD_RESOURCE(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, フォルス酒, DAILY_PRODUCTION)
    CASE 5
        MONEY:(STAR_OWNER:STAR_ID) -= GET_RESOURCE_PRICE(ゴルンミスト発生器) * DAILY_PRODUCTION
        CALL ADD_RESOURCE(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, ゴルンミスト発生器, DAILY_PRODUCTION)
    CASE 6
        MONEY:(STAR_OWNER:STAR_ID) -= GET_RESOURCE_PRICE(ロック布) * DAILY_PRODUCTION
        CALL ADD_RESOURCE(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, ロック布, DAILY_PRODUCTION)
    CASE 7
        MONEY:(STAR_OWNER:STAR_ID) -= GET_RESOURCE_PRICE(ナナーシャ鳥) * DAILY_PRODUCTION
        CALL ADD_RESOURCE(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, ナナーシャ鳥, DAILY_PRODUCTION)
    CASE 8
        MONEY:(STAR_OWNER:STAR_ID) -= GET_RESOURCE_PRICE(エインズの実) * DAILY_PRODUCTION
        CALL ADD_RESOURCE(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, エインズの実, DAILY_PRODUCTION)
    CASE 9
        MONEY:(STAR_OWNER:STAR_ID) -= GET_RESOURCE_PRICE(ナイ・ゲーム機) * DAILY_PRODUCTION
        CALL ADD_RESOURCE(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, ナイ・ゲーム機, DAILY_PRODUCTION)
    CASE 10
        MONEY:(STAR_OWNER:STAR_ID) -= GET_RESOURCE_PRICE(日本酒) * DAILY_PRODUCTION
        CALL ADD_RESOURCE(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, 日本酒, DAILY_PRODUCTION)
    CASE 11
        MONEY:(STAR_OWNER:STAR_ID) -= GET_RESOURCE_PRICE(MR観光セット) * DAILY_PRODUCTION
        CALL ADD_RESOURCE(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, MR観光セット, DAILY_PRODUCTION)
    CASE 12
        MONEY:(STAR_OWNER:STAR_ID) -= GET_RESOURCE_PRICE(ペルマティーセット) * DAILY_PRODUCTION
        CALL ADD_RESOURCE(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, ペルマティーセット, DAILY_PRODUCTION)
ENDSELECT
SELECTCASE STAR_OWNER:STAR_ID
    CASE 2
        CALL AUTO_PROCESSING(STAR_ID, STAR_OWNER:STAR_ID, パワードスーツ, SPECIAL_ITEM_DAILY_PRODUCTION)
    CASE 3
        CALL AUTO_PROCESSING(STAR_ID, STAR_OWNER:STAR_ID, レース機, SPECIAL_ITEM_DAILY_PRODUCTION)
    CASE 4
        CALL AUTO_PROCESSING(STAR_ID, STAR_OWNER:STAR_ID, 思考戦車, SPECIAL_ITEM_DAILY_PRODUCTION)
    CASE 5
        CALL AUTO_PROCESSING(STAR_ID, STAR_OWNER:STAR_ID, 異星生物育成キット, SPECIAL_ITEM_DAILY_PRODUCTION)
    CASE 6
        CALL AUTO_PROCESSING(STAR_ID, STAR_OWNER:STAR_ID, セクサロイド, SPECIAL_ITEM_DAILY_PRODUCTION)
    CASE 11
        CALL AUTO_PROCESSING(STAR_ID, STAR_OWNER:STAR_ID, プラモデル, SPECIAL_ITEM_DAILY_PRODUCTION)
    CASE 12
        CALL AUTO_PROCESSING(STAR_ID, STAR_OWNER:STAR_ID, ビームセイバー, SPECIAL_ITEM_DAILY_PRODUCTION)
ENDSELECT

; 消費
@PRIVATE_DEMAND(STAR_ID)
#DIM STAR_ID
#DIM ITEM_ID
#DIM CONST DAILY_DEMAND = 100
#DIM CONST SPECIAL_ITEM_DAILY_DEMAND = 1

FOR ITEM_ID, 30, 50
    LOCAL = GET_RESOURCE_NUM(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, ITEM_ID)
    SIF (LOCAL == 0)
        CONTINUE
    MONEY:(STAR_OWNER:STAR_ID) += GET_RESOURCE_PRICE(ITEM_ID) * DAILY_DEMAND
    RESULT = REMOVE_RESOURCE(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, ITEM_ID, DAILY_DEMAND)
NEXT
FOR ITEM_ID, 50, 60
    LOCAL = GET_RESOURCE_NUM(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, ITEM_ID)
    SIF (LOCAL == 0)
        CONTINUE
    MONEY:(STAR_OWNER:STAR_ID) += GET_RESOURCE_PRICE(ITEM_ID) * DAILY_DEMAND
    RESULT = REMOVE_RESOURCE(星系座標ID:STAR_ID, STAR_OWNER:STAR_ID, ITEM_ID, SPECIAL_ITEM_DAILY_DEMAND)
NEXT
