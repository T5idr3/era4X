;-------------------------------------------------
;ボールギャグ
;SM系コマンド、レベル2
;-------------------------------------------------
@COM107
PRINTL ボールギャグ
STR:0 = ボールギャグ
CALL KOJO_MESSAGE_COM

;着脱の処理
IF TEQUIP:20 == 0
	TEQUIP:20 = 1
ELSE
	TEQUIP:20 = 0
ENDIF

;-------------------------------------------------
;ソース追加処理
;-------------------------------------------------
;消費体力、気力
LOSEBASE:0 += 0
LOSEBASE:1 += 50

SOURCE:8 = 500
SOURCE:13 = 200
SOURCE:14 = 150
SOURCE:17 = 100
SOURCE:18 = 300

;-------------------------------------------------
;特殊ソース処理
;-------------------------------------------------
;緊縛経験が高いと消費減少
IF EXP:緊縛経験 < EXPLV:3
	TIMES LOSEBASE:0 , 1.00
	TIMES LOSEBASE:1 , 1.00
ELSEIF EXP:緊縛経験 < EXPLV:4
	TIMES LOSEBASE:0 , 0.90
	TIMES LOSEBASE:1 , 0.90
ELSE
	TIMES LOSEBASE:0 , 0.70
	TIMES LOSEBASE:1 , 0.70
ENDIF

;-------------------------------------------------
;経験の処理
;-------------------------------------------------
EXP:緊縛経験 += 2
PRINTL 緊縛経験＋２

;依存度ベクトル
TFLAG:33 = 3

;依存度補正値(服従で1、隷属で2）
IF TALENT:服従 && ASSIPLAY == 0
	TFLAG:30 += 1
ELSEIF TALENT:隷属 && ASSIPLAY == 0
	TFLAG:30 += 2
ENDIF


RETURN 1

;-------------------------------------------------
;装着継続の処理
;-------------------------------------------------
@EQUIP_COM107
PRINTL ＜ボールギャグ装備中＞

;-------------------------------------------------
;ソース追加処理
;-------------------------------------------------
;消費体力、気力
LOSEBASE:0 += 0

SOURCE:8 += 250
SOURCE:13 += 150
SOURCE:14 += 75
SOURCE:17 += 50
SOURCE:18 += 150

;-------------------------------------------------
;特殊ソース処理
;-------------------------------------------------
;緊縛経験が高いと消費減少
A = 25
IF EXP:緊縛経験 < EXPLV:3
	TIMES A , 1.00
ELSEIF EXP:緊縛経験 < EXPLV:4
	TIMES A , 0.90
ELSE
	TIMES A , 0.70
ENDIF
LOSEBASE:1 += A

;-------------------------------------------------
;経験の処理
;-------------------------------------------------
EXP:緊縛経験 += 1
PRINTL 緊縛経験＋１

RETURN 1

