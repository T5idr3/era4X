@SHOW_JUEL
DRAWLINE
T = TARGET
CALL SHOW_INFO_EXP(TARGET)
A = 0
X = 0

REPEAT 13
	IF COUNT == 12
		X = 100
	ELSE
		X = COUNT
	ENDIF

	PRINTFORM %PALAMNAME:X%の珠：

	;表示位置そろえる
	IF JUEL:X < 10
		PRINT       
	ELSEIF JUEL:X < 100
		PRINT      
	ELSEIF JUEL:X < 1000
		PRINT     
	ELSEIF JUEL:X < 10000
		PRINT    
	ELSEIF JUEL:X < 100000
		PRINT   
	ELSEIF JUEL:X < 1000000
		PRINT  
	ENDIF
	PRINTV JUEL:X

	;改行or表示位置あけ
	IF A%4 == 3
		PRINTL 
	ELSE
		PRINT 　
	ENDIF
	A = A + 1
REND
PRINTL 　
DRAWLINE
CALL SHOW_FALL_TERMS

; 陥落状況表示
@SHOW_FALL_TERMS
IF IS_FALL(TARGET) == 0
	PRINT 恋慕条件: 
	; 恋慕
	SIF ABL:0 < 3
		SETCOLOR 0X666666
	PRINT 従順3以上 
	RESETCOLOR

	SIF ABL:7 < 3
		SETCOLOR 0X666666
	PRINT 奉仕精神3以上 
	RESETCOLOR

	SIF MARK:2 != 3
		SETCOLOR 0X666666
	PRINT 屈服刻印3 
	RESETCOLOR

	SIF MARK:3 != 0
		SETCOLOR 0X666666
	PRINT 反発刻印0 
	RESETCOLOR

	SIF EXP:奉仕快楽経験 < 200
		SETCOLOR 0X666666
	PRINT 奉仕快楽経験200以上 
	RESETCOLOR

	SIF CFLAG:2 < 1500
		SETCOLOR 0X666666
	PRINT 依存度1500以上 
	RESETCOLOR

	PRINT 淫乱条件: 
	SIF ABL:1 < 3
		SETCOLOR 0X666666
	PRINT 欲望3以上 
	RESETCOLOR

	SIF ABL:3+ABL:4+ABL:5+ABL:6 < 10
		SETCOLOR 0X666666
	PRINT CVAB感覚合計10以上 
	RESETCOLOR

	SIF MARK:1 != 3
		SETCOLOR 0X666666
	PRINT 快楽刻印3 
	RESETCOLOR

	SIF MARK:2 != 3
		SETCOLOR 0X666666
	PRINT 屈服刻印3 
	RESETCOLOR

	SIF MARK:3 != 0
		SETCOLOR 0X666666
	PRINT 反発刻印0 
	RESETCOLOR

	SIF EXP:絶頂経験 < 50
		SETCOLOR 0X666666
	PRINT 絶頂経験50以上 
	RESETCOLOR

	SIF EXP:異常経験 < 2
		SETCOLOR 0X666666
	PRINT 異常経験2以上 
	RESETCOLOR

	PRINT or 

	SIF EXP:異常経験 < 1
		SETCOLOR 0X666666
	PRINT 異常経験1以上 
	RESETCOLOR

	SIF EXP:レズ経験 < 2000
		SETCOLOR 0X666666
	PRINT (レズ経験2000以上 
	RESETCOLOR

	PRINT or 

	SIF EXP:ゲイ経験 < 2000
		SETCOLOR 0X666666
	PRINT ゲイ経験2000以上)
	RESETCOLOR
	PRINTL

	PRINT 服従条件: 
	SIF ABL:0 < 3
		SETCOLOR 0X666666
	PRINT 従順3以上 
	RESETCOLOR

	SIF ABL:9 < 3
		SETCOLOR 0X666666
	PRINT マゾっ気3以上 
	RESETCOLOR

	SIF MARK:2 != 3
		SETCOLOR 0X666666
	PRINT 屈服刻印3 
	RESETCOLOR

	SIF MARK:3 != 0
		SETCOLOR 0X666666
	PRINT 反発刻印0 
	RESETCOLOR

	SIF EXP:苦痛快楽経験+EXP:緊縛経験 < 200
		SETCOLOR 0X666666
	PRINT 苦痛快楽経験+緊縛経験200以上 
	RESETCOLOR

	SIF EXP:異常経験 < 2
		SETCOLOR 0X666666
	PRINT 異常経験2以上
	RESETCOLOR
	PRINTL
ELSEIF TALENT:恋慕 == 1
	PRINT 親愛条件: 
	SIF ABL:0 < 5
		SETCOLOR 0X666666
	PRINT 従順5以上 
	RESETCOLOR

	SIF ABL:7 < 5
		SETCOLOR 0X666666
	PRINT 奉仕精神5以上 
	RESETCOLOR

	SIF MARK:2 != 3
		SETCOLOR 0X666666
	PRINT 屈服刻印3 
	RESETCOLOR

	SIF MARK:3 != 0
		SETCOLOR 0X666666
	PRINT 反発刻印0 
	RESETCOLOR

	SIF EXP:愛情経験 < 200
		SETCOLOR 0X666666
	PRINT 愛情経験200以上 
	RESETCOLOR

	SIF EXP:奉仕快楽経験 < 400
		SETCOLOR 0X666666
	PRINT 奉仕快楽経験400以上 
	RESETCOLOR

	SIF CFLAG:2 < 3000
		SETCOLOR 0X666666
	PRINT 依存度3000以上 
	RESETCOLOR

	SIF EXP:レズ経験 >= 1500
		SETCOLOR 0XFF0000
	PRINT レズ経験1500未満 
	RESETCOLOR

	SIF EXP:ゲイ経験 >= 1500
		SETCOLOR 0XFF0000
	PRINT ゲイ経験1500未満 
	RESETCOLOR

	SIF EXP:異常経験 >= 5
		SETCOLOR 0XFF0000
	PRINT 異常経験5未満 
	RESETCOLOR
	PRINTL
ELSEIF TALENT:淫乱 == 1
	PRINT 娼婦条件: 
	SIF ABL:1 < 5
		SETCOLOR 0X666666
	PRINT 欲望5以上 
	RESETCOLOR

	SIF ABL:3+ABL:4+ABL:5+ABL:6 < 20
		SETCOLOR 0X666666
	PRINT CVAB感覚合計20以上 
	RESETCOLOR

	SIF MARK:1 != 3
		SETCOLOR 0X666666
	PRINT 快楽刻印3 
	RESETCOLOR

	SIF MARK:2 != 3
		SETCOLOR 0X666666
	PRINT 屈服刻印3 
	RESETCOLOR

	SIF MARK:3 != 0
		SETCOLOR 0X666666
	PRINT 反発刻印0 
	RESETCOLOR

	SIF EXP:絶頂経験 < 50
		SETCOLOR 0X666666
	PRINT 絶頂経験200以上 
	RESETCOLOR

	SIF EXP:異常経験 < 4
		SETCOLOR 0X666666
	PRINT 異常経験4以上 
	RESETCOLOR

	PRINT or 

	SIF EXP:異常経験 < 2
		SETCOLOR 0X666666
	PRINT 異常経験2以上 
	RESETCOLOR

	SIF EXP:レズ経験 < 3000
		SETCOLOR 0X666666
	PRINT (レズ経験3000以上 
	RESETCOLOR

	PRINT or 

	SIF EXP:ゲイ経験 < 3000
		SETCOLOR 0X666666
	PRINT ゲイ経験3000以上)
	RESETCOLOR
	PRINTL
ELSEIF TALENT:服従 == 1
	PRINT 隷属条件: 
	SIF ABL:0 < 5
		SETCOLOR 0X666666
	PRINT 従順5以上 
	RESETCOLOR

	SIF ABL:9 < 5
		SETCOLOR 0X666666
	PRINT マゾっ気5以上 
	RESETCOLOR

	SIF MARK:2 != 3
		SETCOLOR 0X666666
	PRINT 屈服刻印3 
	RESETCOLOR

	SIF MARK:3 != 0
		SETCOLOR 0X666666
	PRINT 反発刻印0 
	RESETCOLOR

	SIF EXP:苦痛快楽経験+EXP:緊縛経験 < 500
		SETCOLOR 0X666666
	PRINT 苦痛快楽経験+緊縛経験500以上 
	RESETCOLOR

	SIF EXP:異常経験 < 5
		SETCOLOR 0X666666
	PRINT 異常経験5以上
	RESETCOLOR
	PRINTL
ENDIF
DRAWLINE

@SHOW_ABLUP_SELECT
REPEAT 23
	IF COUNT == 0
		X = 0
		CALL ISABLUP0
	ELSEIF COUNT == 1
		X = 1
		CALL ISABLUP1
	ELSEIF COUNT == 2
		X = 2
		CALL ISABLUP2
	ELSEIF COUNT == 3
		X = 3
		CALL ISABLUP3
	ELSEIF COUNT == 4
		X = 4
		CALL ISABLUP4
	ELSEIF COUNT == 5
		X = 5
		CALL ISABLUP5
	ELSEIF COUNT == 6
		X = 6
		CALL ISABLUP6
	ELSEIF COUNT == 7
		X = 7
		CALL ISABLUP7
	ELSEIF COUNT == 8
		X = 8
		CALL ISABLUP8
	ELSEIF COUNT == 9
		X = 9
		CALL ISABLUP9
	ELSEIF COUNT == 10
		X = 10
		CALL ISABLUP10
	ELSEIF COUNT == 11
		X = 11
		CALL ISABLUP11
	ELSEIF COUNT == 12
		X = 12
		CALL ISABLUP12
	ELSEIF COUNT == 13
		X = 13
		CALL ISABLUP13
	ELSEIF COUNT == 14
		X = 14
		CALL ISABLUP14
	ELSEIF COUNT == 15
		X = 15
		CALL ISABLUP15
	ELSEIF COUNT == 16
		X = 16
		CALL ISABLUP16
	ELSEIF COUNT == 17
		X = 17
		CALL ISABLUP17
	ELSEIF COUNT == 18
		X = 18
		CALL ISABLUP18
	ELSEIF COUNT == 19
		X = 19
		CALL ISABLUP19
	ELSEIF COUNT == 20
		X = 20
		CALL ISABLUP20
	ELSEIF COUNT == 21
		X = 21
		CALL ISABLUP21
	ELSEIF COUNT == 22
		X = 22
		CALL ISABLUP22
	ENDIF
	
	SIF (X == 11 || X == 17) && TALENT:オトコ
		CONTINUE
	SIF (X == 20 || X == 21) && TALENT:オトコ == 0
		CONTINUE
	LOCALS = [{COUNT}]%ABLNAME:X%-LV{ABL:X}
	SIF RESULT == 1
		LOCALS = %LOCALS% *
	PRINTFORM %LOCALS, 28, LEFT%
	SIF COUNT % 4 == 3
		PRINTL 
REND

CALL ISABLUP99
PRINTFORM [99]%MARKNAME:3%-LV{MARK:3}
SIF RESULT == 1
	PRINT  *
PRINTL 

PRINTL [100] 能力値アップの終了

@USERABLUP
IF RESULT == 100
	CALL JUJUN_UP_CHECK
	CALL YOKUBO_UP_CHECK
	BEGIN TURNEND
	RETURN 1
ENDIF

RETURN 0
