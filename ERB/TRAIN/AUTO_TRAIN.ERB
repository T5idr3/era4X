;----------------------
; 自動調教
;----------------------
@AUTO_TRAIN
PRINTL 方針を選択してください
IF CFLAG:TARGET:1000 == 0
    CALL AUTO_TRAIN_0
ELSEIF CFLAG:TARGET:1000 == 1
    CALL AUTO_TRAIN_1
ELSEIF CFLAG:TARGET:1000 == 2
    CALL AUTO_TRAIN_2
ENDIF

;----------------------
; 恋慕ルート自動調教
;----------------------
@AUTO_TRAIN_0
$INPUT_LOOP
PRINTBUTTON "[0] 優しい調教", 0
PRINTL
PRINTBUTTON "[1] 激しい調教", 1
PRINTL
PRINTBUTTON "[2] 奉仕を教え込む", 2
INPUT
IF RESULT == 0
    CALL AUTO_TRAIN_SOFT
ELSEIF RESULT == 1
    CALL AUTO_TRAIN_HARD
ELSEIF RESULT == 2
    CALL AUTO_TRAIN_SERVICE
ELSE
    GOTO INPUT_LOOP
ENDIF


;----------------------
; 淫乱ルート自動調教
;----------------------
@AUTO_TRAIN_1
$INPUT_LOOP
PRINTBUTTON "[0] 優しい調教", 0
PRINTL
PRINTBUTTON "[1] 激しい調教", 1
PRINTL
PRINTBUTTON "[2] 奉仕を教え込む", 2
INPUT
IF RESULT == 0
    CALL AUTO_TRAIN_SOFT
ELSEIF RESULT == 1
    CALL AUTO_TRAIN_HARD
ELSEIF RESULT == 2
    CALL AUTO_TRAIN_SERVICE
ELSE
    GOTO INPUT_LOOP
ENDIF
;----------------------
; 隷属ルート自動調教
;----------------------
@AUTO_TRAIN_2
$INPUT_LOOP
PRINTBUTTON "[0] 優しい調教", 0
PRINTL
PRINTBUTTON "[1] 激しい調教", 1
PRINTL
PRINTBUTTON "[2] 奉仕を教え込む", 2
INPUT
IF RESULT == 0
    CALL AUTO_TRAIN_SOFT
ELSEIF RESULT == 1
    CALL AUTO_TRAIN_HARD
ELSEIF RESULT == 2
    CALL AUTO_TRAIN_SERVICE
ELSE
    GOTO INPUT_LOOP
ENDIF
;----------------------
; 優しい調教
;----------------------
@AUTO_TRAIN_SOFT(TYPE)
#DIM TYPE
#DIM PARAMS, 17
#DIM EXPS, 71
#DIM TRAIN_COUNT

VARSET PARAMS, 0

; CB
PARAMS:0 += ABL:3 * 60 + RAND:50 + 10
PARAMS:3 += ABL:6 * 60 + RAND:50 + 10
; 恭順
PARAMS:5 += ABL:0 * 150 + RAND:50 + 100
; 欲情
PARAMS:6 += ABL:1 * 50 + RAND:50 + 100
; 習得
PARAMS:8 += ABL:2 * 20 + RAND:50 + 10

; 気力
PARAMS:16 += RAND:6 + 1

; あなたの技巧で効果が変化
SELECTCASE ABL:MASTER:技巧
    CASE 1
        TIMES PARAMS:0, 1.10
        TIMES PARAMS:3, 1.10
        TIMES PARAMS:5, 1.10
        TIMES PARAMS:6, 1.10
        TIMES PARAMS:8, 1.10
    CASE 2
        TIMES PARAMS:0, 1.20
        TIMES PARAMS:3, 1.20
        TIMES PARAMS:5, 1.20
        TIMES PARAMS:6, 1.20
        TIMES PARAMS:8, 1.20
    CASE 3
        TIMES PARAMS:0, 1.30
        TIMES PARAMS:3, 1.30
        TIMES PARAMS:5, 1.30
        TIMES PARAMS:6, 1.30
        TIMES PARAMS:8, 1.30
    CASE 4
        TIMES PARAMS:0, 1.40
        TIMES PARAMS:3, 1.40
        TIMES PARAMS:5, 1.40
        TIMES PARAMS:6, 1.40
        TIMES PARAMS:8, 1.40
    CASE 5
        TIMES PARAMS:0, 1.50
        TIMES PARAMS:3, 1.50
        TIMES PARAMS:5, 1.50
        TIMES PARAMS:6, 1.50
        TIMES PARAMS:8, 1.50
ENDSELECT
; 消費気力で効果が変化
TRAIN_COUNT = BASE:1 / 200
PARAMS:0 *= TRAIN_COUNT
PARAMS:3 *= TRAIN_COUNT
PARAMS:5 *= TRAIN_COUNT
PARAMS:6 *= TRAIN_COUNT
PARAMS:8 *= TRAIN_COUNT

EXPS:2 = (PARAMS:0 + PARAMS:3) / 10000
EXPS:20 = RAND:3

EXP:2 += EXPS:2
EXP:20 += EXPS:20

JUEL:0 += PARAMS:0
JUEL:3 += PARAMS:3
JUEL:5 += PARAMS:5
JUEL:6 += PARAMS:6
JUEL:8 += PARAMS:8
MAXBASE:1 += PARAMS:16
BASE:1 = 0
CALL AUTO_TRAIN_MESSAGE_1
SIF EXPS:2 > 0
    PRINTFORML %EXPNAME:2%経験+{EXPS:2}
SIF EXPS:20 > 0
    PRINTFORML %EXPNAME:20%経験+{EXPS}
PRINTFORML %PALAMNAME:0%の珠+{PARAMS:0}
PRINTFORML %PALAMNAME:3%の珠+{PARAMS:3}
PRINTFORML %PALAMNAME:5%の珠+{PARAMS:5}
PRINTFORML %PALAMNAME:6%の珠+{PARAMS:6}
PRINTFORML %PALAMNAME:8%の珠+{PARAMS:8}
PRINTFORML 最大気力+{PARAMS:16}
DRAWLINE
WAIT


;----------------------
; 激しい調教
;----------------------
@AUTO_TRAIN_HARD(TYPE)
#DIM TYPE
#DIM PARAMS, 17
#DIM EXPS, 71
#DIM TRAIN_COUNT

VARSET PARAMS, 0

; CVAB
PARAMS:0 += ABL:3 * 20 + RAND:50 + 10
SIF TALENT:処女 == 0
    PARAMS:1 += ABL:4 * 90 + RAND:50 + 40
SIF ABL:5 != 0
    PARAMS:2 += ABL:5 * 40 + RAND:50 + 40
PARAMS:3 += ABL:6 * 20 + RAND:50 + 10
; 欲情
PARAMS:6 += ABL:1 * 50 + RAND:50 + 100
; 屈服
PARAMS:7 += ABL:0 * 150 + RAND:50 + 100
; 習得
PARAMS:8 += ABL:2 * 20 + RAND:50 + 10

; 体力
PARAMS:15 += RAND:6 + 1

; あなたの技巧で効果が変化
SELECTCASE ABL:MASTER:技巧
    CASE 1
        TIMES PARAMS:0, 1.10
        TIMES PARAMS:1, 1.10
        TIMES PARAMS:2, 1.10
        TIMES PARAMS:3, 1.10
        TIMES PARAMS:6, 1.10
        TIMES PARAMS:7, 1.10
        TIMES PARAMS:8, 1.10
    CASE 2
        TIMES PARAMS:0, 1.20
        TIMES PARAMS:1, 1.20
        TIMES PARAMS:2, 1.20
        TIMES PARAMS:3, 1.20
        TIMES PARAMS:6, 1.20
        TIMES PARAMS:7, 1.20
        TIMES PARAMS:8, 1.20
    CASE 3
        TIMES PARAMS:0, 1.30
        TIMES PARAMS:1, 1.30
        TIMES PARAMS:2, 1.30
        TIMES PARAMS:3, 1.30
        TIMES PARAMS:6, 1.30
        TIMES PARAMS:7, 1.30
        TIMES PARAMS:8, 1.30
    CASE 4
        TIMES PARAMS:0, 1.40
        TIMES PARAMS:1, 1.40
        TIMES PARAMS:2, 1.40
        TIMES PARAMS:3, 1.40
        TIMES PARAMS:6, 1.40
        TIMES PARAMS:7, 1.40
        TIMES PARAMS:8, 1.40
    CASE 5
        TIMES PARAMS:0, 1.50
        TIMES PARAMS:1, 1.50
        TIMES PARAMS:2, 1.50
        TIMES PARAMS:3, 1.50
        TIMES PARAMS:6, 1.50
        TIMES PARAMS:7, 1.50
        TIMES PARAMS:8, 1.50
ENDSELECT
; 消費気力で効果が変化
TRAIN_COUNT = BASE:0 / 200
PARAMS:0 *= TRAIN_COUNT
PARAMS:1 *= TRAIN_COUNT
PARAMS:2 *= TRAIN_COUNT
PARAMS:3 *= TRAIN_COUNT
PARAMS:6 *= TRAIN_COUNT
PARAMS:7 *= TRAIN_COUNT
PARAMS:8 *= TRAIN_COUNT

EXPS:2 = (PARAMS:0 + PARAMS:1 + PARAMS:2 + PARAMS:3) / 10000
SIF TALENT:TARGET:処女 == 0
    EXPS:4 = PARAMS:1 / 5000
EXPS:20 = RAND:6

EXP:2 += EXPS:2
EXP:4 += EXPS:4
EXP:20 += EXPS:20

JUEL:0 += PARAMS:0
JUEL:1 += PARAMS:1
JUEL:2 += PARAMS:2
JUEL:3 += PARAMS:3
JUEL:6 += PARAMS:5
JUEL:7 += PARAMS:7
JUEL:8 += PARAMS:8
MAXBASE:0 += PARAMS:15
BASE:0 = 510
CALL AUTO_TRAIN_MESSAGE_2
PRINTFORML %PALAMNAME:0%の珠+{PARAMS:0}
;経験
SIF EXPS:2 > 0
    PRINTFORML %EXPNAME:2%経験+{EXPS:2}
SIF EXPS:4 > 0
    PRINTFORML %EXPNAME:4%経験+{EXPS:4}
SIF EXPS:20 > 0
    PRINTFORML %EXPNAME:20%経験+{EXPS:20}
;珠
SIF TALENT:処女 == 0
    PRINTFORML %PALAMNAME:1%の珠+{PARAMS:1}
SIF ABL:5 != 0
    PRINTFORML %PALAMNAME:2%の珠+{PARAMS:2}
PRINTFORML %PALAMNAME:3%の珠+{PARAMS:3}
PRINTFORML %PALAMNAME:6%の珠+{PARAMS:6}
PRINTFORML %PALAMNAME:7%の珠+{PARAMS:7}
PRINTFORML %PALAMNAME:8%の珠+{PARAMS:8}
PRINTFORML 最大体力+{PARAMS:15}
DRAWLINE
WAIT

;----------------------
; 奉仕調教
;----------------------
@AUTO_TRAIN_SERVICE(TYPE)
#DIM TYPE
#DIM PARAMS, 17
#DIM EXPS, 71
#DIM TRAIN_COUNT

VARSET PARAMS, 0

; 恭順
PARAMS:5 += ABL:0 * 150 + RAND:50 + 10
; 屈服
PARAMS:7 += ABL:0 * 150 + RAND:50 + 10
; 習得
PARAMS:8 += ABL:2 * 200 + RAND:50 + 100

; 体力・気力
PARAMS:15 += RAND:6 + 1
PARAMS:16 += RAND:6 + 1

; あなたの技巧で効果が変化
SELECTCASE ABL:MASTER:技巧
    CASE 1
        TIMES PARAMS:5, 1.10
        TIMES PARAMS:7, 1.10
        TIMES PARAMS:8, 1.10
    CASE 2
        TIMES PARAMS:5, 1.20
        TIMES PARAMS:7, 1.20
        TIMES PARAMS:8, 1.20
    CASE 3
        TIMES PARAMS:5, 1.30
        TIMES PARAMS:7, 1.30
        TIMES PARAMS:8, 1.30
    CASE 4
        TIMES PARAMS:5, 1.40
        TIMES PARAMS:7, 1.40
        TIMES PARAMS:8, 1.40
    CASE 5
        TIMES PARAMS:5, 1.50
        TIMES PARAMS:7, 1.50
        TIMES PARAMS:8, 1.50
ENDSELECT
; 消費気力で効果が変化
TRAIN_COUNT = BASE:1 / 400
TRAIN_COUNT += BASE:0 / 400
PARAMS:5 *= TRAIN_COUNT
PARAMS:7 *= TRAIN_COUNT
PARAMS:8 *= TRAIN_COUNT

EXPS:20 = RAND:10 + 1
EXPS:22 = RAND:10 + 1

EXP:20 += EXPS:20
EXP:22 += EXPS:22
JUEL:5 += PARAMS:5
JUEL:7 += PARAMS:6
JUEL:8 += PARAMS:8
MAXBASE:0 += PARAMS:15
MAXBASE:1 += PARAMS:16
BASE:0 = 510
BASE:1 = 0
CALL AUTO_TRAIN_MESSAGE_3
PRINTFORML %EXPNAME:20%+{EXPS:20}
PRINTFORML %EXPNAME:22%+{EXPS:22}
PRINTFORML %PALAMNAME:5%の珠+{PARAMS:5}
PRINTFORML %PALAMNAME:7%の珠+{PARAMS:7}
PRINTFORML %PALAMNAME:8%の珠+{PARAMS:8}
PRINTFORML 最大体力+{PARAMS:15}
PRINTFORML 最大気力+{PARAMS:16}
DRAWLINE
WAIT
