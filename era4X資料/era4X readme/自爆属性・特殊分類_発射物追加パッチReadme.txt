自爆属性・特殊分類_発射物追加パッチReadme

◇やりたい事
マップ上を飛んでくるミサイルの類(アスロック的な「ロケットで射程を延長した魚雷」等も含む)を作れる様にしたい。
その為に「攻撃時にその武装の持ち主自身を破壊する武装」を作れる様にしたい。


◇具体的な変更点
既存の属性と同じ順番で「実体弾_自爆」(6)から「ビーム_自爆」(11)までの属性定数を追加・定数「攻撃属性」を12に変更
WEAPON_TYPE_NAMEおよびWEAPON_TYPE_NAME_ENに自爆属性のそれらを追加
特殊分類定数「特殊分類_発射物」(5)を追加
(以上SLG.ERH)

@BATTLE_DAMAGEにおいて最初に属性を見て「(属性名)_自爆」の属性であるなら攻撃を行った艦艇に「自分自身の残りシールド・装甲」の値だけのダメージを与える様に
@EXECUTE_ACTIONにおいて攻撃後・DEF_SHIPの沈没確認の後にATK_SHIPの沈没確認と同沈没時にはBROKEN_BY:ATK_SHIP_IDにATK_SHIP_IDを入れる様に
(以上SLG_COMBAT.ERB)

属性を見て行われる処理全般に「(同属性名)_自爆」でも同様の処理を行うように条件を追加(SLG_COMBAT.ERB および EQUIP_STATUS_DESCRIPTION.ERB)

MAIN_WEAPONに7つの自爆属性武装を追加
艦船にコルベット級FTLミサイルおよび多弾頭型コルベット級FTLミサイルを追加
艦船名定数に「コルベット級FTLミサイル」(160)と「多弾頭型コルベット級FTLミサイル」(161)を追加(SHIP_MODEL.ERH)


◇追加した要素
(通常属性名)_自爆
"_自爆"の付かない通常属性と基本的には同じ挙動をしますが、攻撃時に自爆処理が入り「自分自身の残りシールド・装甲」の値だけのダメージを受けて使用艦艇自身を撃沈する属性です。
基本的には直接プレイヤー艦船が装備する武装の属性とする事は想定していません。

特殊分類_発射物
「艦船級のサイズのミサイル」などである事を示す為の新特殊分類です。
現状では表示処理にしか使用されていませんが
これに分類される艦船をプレイヤーに使用可能とする場合には「設定に依らず大破時にロストする」処理に用いる事などが考えられます。
(「高コストな消耗品」である事を示す、とも言い換えられます)

主砲300-306番
暫定的に「攻撃時に自爆する代わりに同TIER・同サイズ・同属性の武器の3ターン分くらいのダメージ」みたいな調整をした主砲群です。
瞬間火力は高いですが1回しか攻撃できないので戦闘が長引く程に効力が下がると考えられます。
繰り返しの使用を想定していない分予備弾薬スペース等が不要、という点から『通常の武装よりもサイズ比で大型のものが積まれている』事を想定しています。

コルベット級FTLミサイル
コルベット扱いの発射物です。とりあえずはサイズ2主砲を1つ積める物とサイズ1主砲を2つ積める物を用意しました。
副砲は無く、クルーも乗れず、プレイヤーが買う事もできません。後はコルベットと同性能のはずです。
(自爆するのは武器の属性によるものなので通常の主砲を積めば自爆しません)


◇備考
303番のTIER1クラスターミサイルはちょっと過剰性能(対空に対して合計HPが大きい)の感はありますが、建造物の対空が良い感じに高くなる様であれば「対艦にはともかく・対建造物には向かない」などでバランスが取れるかもしれません。